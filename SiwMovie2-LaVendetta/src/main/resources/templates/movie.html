<!DOCTYPE html>
<html>
  <head>
    <title>Film</title>
	<link rel="stylesheet" href="/css/stile.css" />
	<script src="https://kit.fontawesome.com/911a8faad0.js" crossorigin="anonymous"></script>
</head>

<body>
	<nav>
		<ul class="menu">
			<li>
				<a href="/"><i class="fa-solid fa-house"></i></a>
			</li>
			<li th:if="${#request.userPrincipal}"> 
				<span th:text="'ciao ' + ${#request.userPrincipal.principal.username}"></span> 
			</li>
			<li th:if="${#request.userPrincipal}"> 
				<a class="" href="/logout">Logout</a>
			</li>
			
			<li th:unless="${#request.userPrincipal}">
				<a class="" href="/login">Login/Register</a>
			</li>
			<li><a href="/formSearchMovies">Cerca Film</a></li>
		</ul>
	</nav>
	<center>
		<img class="logo" src="/images/logo-siw.png" width="30%"/>
	</center>
	<div class="movie">

		
	    <div th:if="${movie}">
	        <h1 th:text="${movie.title}">Up!</h1>
	        <h4 th:text="${movie.year}">2000</h4>
	        <img class="filmImage" width="10%" th:src=${movie.urlImage} />
	    </div>
	    
	    <div class="actors">
			
			<div class="listDirector">
				<h2 class="regista">Regista</h2>
	    		<div th:if="${movie.director == null}">NESSUN REGISTA</div>
	    		<div class="listDirector" th:if="${movie.director}">
	        		<img th:src="${movie.director.urlOfPicture}"/>
	    		</div>
			</div>
			
	    	<div class="listActors">
				<h2>Attori</h2>
				<div th:if="${movie.actors.isEmpty()} ">NESSUN AUTORE</div>
				<div th:each="actor: ${movie.actors}">
					<img th:src="${actor.urlOfPicture}"/>
				</div>
			</div>
   	
   		</div>
   		
   	</div>
	   
	   <div class="rewiew">
		<h3 class="rewiewTitle">Recensioni Utenti</h2>
			<div><a href="/formNewRewiew">Scrivi un recensione</a></div>
			<div th:if="${movie.movieRewiews.isEmpty()}">NESSUNA RECENSIONE</div>
			<div th:each="rewiew: ${movie.movieRewiews}">
				<p th:text="${rewiew.title} + ' ' + ${rewiew.rating}"></p>
				<p th:text="${rewiew.description}"></p>
			</div>
		</div>
   	
  </body>
  
</html>
